import { Meta, Canvas, Story, Controls, ArgTypes } from '@storybook/addon-docs/blocks';
import Tag from './Tag.vue';
import * as TagStories from './Tag.stories';

<Meta title="Docs/Tag" of={TagStories} />

# Tag Component

A versatile tag component built with Vue 3 and Tailwind CSS. Perfect for displaying status indicators, categories, filters, and labels with optional clickability and accessibility features.

## Features

- üé® **6 Variants**: Default, Success, Info, Warning, Danger, Pending
- üìè **5 Sizes**: XS, SM, MD, LG, XL
- üéØ **Icon Support**: Both left and right icon slots
- üñ±Ô∏è **Optional Clickability**: Conditional button behavior with accessibility
- ‚ôø **Accessibility**: Full keyboard navigation and ARIA support
- üéõÔ∏è **Customizable**: Theme system with easy overrides

## Basic Usage

<Canvas of={TagStories.Default} />

---

## Variants

Choose from 6 different tag variants to convey different meanings:

### Default
<Canvas of={TagStories.Default} source={{ code: `<Tag variant="default" label="Default" />` }} />

### Success
<Canvas of={TagStories.Success} source={{ code: `<Tag variant="success" label="Success" />` }} />

### Info
<Canvas of={TagStories.Info} source={{ code: `<Tag variant="info" label="Information" />` }} />

### Warning
<Canvas of={TagStories.Warning} source={{ code: `<Tag variant="warning" label="Warning" />` }} />

### Danger
<Canvas of={TagStories.Danger} source={{ code: `<Tag variant="danger" label="Danger" />` }} />

### Pending
<Canvas of={TagStories.Pending} source={{ code: `<Tag variant="pending" label="Pending" />` }} />

---

## All Variants

View all variants together:

<Canvas of={TagStories.AllVariants} />

---

## Sizes

Five different sizes to fit any layout:

<Canvas of={TagStories.Sizes} />

---

## With Icons

Add visual context with icons:

<Canvas of={TagStories.WithIcons} />

---

## Clickable Tags

Tags can be made clickable and will automatically become focusable with proper ARIA attributes:

<Canvas of={TagStories.Clickable} />

### Key Features:
- **Automatic Accessibility**: When `clickable` is true or click events are detected, the tag becomes a `<button>` element
- **Keyboard Navigation**: Supports Enter and Space key activation
- **Haptic Feedback**: Provides subtle vibration on mobile devices
- **Focus Management**: Proper focus indicators and tab navigation

---

## States

### Disabled State

Clickable tags can be disabled:

<Canvas of={TagStories.Disabled} />

---

## Practical Examples

### Status Tags

Perfect for displaying status information:

<Canvas of={TagStories.StatusTags} />

### Filter Tags

Interactive tags for filtering and selection:

<Canvas of={TagStories.FilterTags} />

---

## Theme Customization

The Tag component supports comprehensive theme customization through the `theme` prop:

<Canvas of={TagStories.CustomTheme} />

### Theme Structure

The theme object is organized into sections:

- **`root`**: Main tag element styling (base, variants, sizes, rounded)
- **`icon`**: Icon-specific styling (base classes, sizes)
- **`content`**: Content wrapper styling
- **`static`**: Non-clickable variant styles (no hover states)

### TypeScript Support

```typescript
import type { TagTheme } from './theme'

const customTheme: TagTheme = {
  root: {
    variants: {
      success: 'bg-gradient-to-r from-green-400 to-emerald-500 text-white'
    }
  },
  icon: {
    base: 'drop-shadow-lg'
  }
}
```

---

## Usage Guidelines

### When to Use Tags

- **Status Indicators**: Show the current state of items (pending, completed, failed)
- **Categories**: Organize content into groups
- **Filters**: Allow users to filter content
- **Labels**: Add metadata or context to items
- **Badges**: Highlight important information

### Clickable vs Static

- **Use Clickable Tags** when users need to interact (remove filters, change status)
- **Use Static Tags** for pure display purposes (status indicators, categories)

### Accessibility Best Practices

- Tags automatically become buttons when clickable
- Proper ARIA attributes are applied
- Keyboard navigation is fully supported
- Screen readers can identify interactive vs static tags

---

## Props API

<ArgTypes of={TagStories} />

---

## Examples

### Basic Tag
```vue
<Tag variant="success" label="Completed" />
```

### Tag with Icon
```vue
<Tag variant="info" label="Information" :icon-left="InfoIcon" />
```

### Clickable Tag
```vue
<Tag
  variant="danger"
  label="Remove"
  :icon-right="XIcon"
  clickable
  @click="handleRemove"
/>
```

### Custom Theme
```vue
<Tag
  variant="success"
  label="Custom"
  :theme="{
    root: {
      variants: {
        success: 'bg-gradient-to-r from-green-400 to-blue-500 text-white'
      }
    }
  }"
/>
```